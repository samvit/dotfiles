export PATH="/usr/local/bin:/usr/local/sbin:/usr/local/mysql/bin:/usr/local/share/npm/bin:$HOME/gsutil:$PATH"
#PATH="/usr:/bin/:usr/local/bin:"
[[ -s "$HOME/.rvm/scripts/rvm" ]] && source "$HOME/.rvm/scripts/rvm" [[ -s "$HOME/.rvm/scripts/rvm" ]] && . "$HOME/.rvm/scripts/rvm" # Load RVM function
[[ -s "$HOME/.rvm/scripts/rvm" ]] && . "$HOME/.rvm/scripts/rvm" # Load RVM function

alias chit='git'
alias ls='ls -G'
export CLICOLOR=1
export LSCOLORS=Gxfxcxdxbxegedabagacad

export JAVA_HOME=$(/usr/libexec/java_home)
export NODE_PATH="/usr/local/lib/node_modules"
export NODE_PATH='/usr/local/lib/jsctags:${NODE_PATH}'
export PYTHONPATH="/usr/local/lib/python2.7/site-packages:$PYTHONPATH"
export PATH=/usr/local/bin:/usr/local/share/python:$PATH


# Aliases:
alias vim='mvim -v'
alias trigger="cd /usr/local/lib/forge-tools; source go.sh; cd ~/Dev;"

# some more ls aliases
alias ll='ls -alhF'
alias la='ls -A'
alias l='ls -CF'

#custom Aliases
alias '..'='cd ..'
alias '...'='cd ../..'
alias junk='cd ~/junk'
alias dev='cd ~/dev'
alias dropbox='cd ~/Dropbox'
alias todo='vim ~/Dropbox/todo.txt'
alias net='cd ~/dev/greply/grepnet/'
alias bum='cd ~/dev/mailbum/'

alias grep='grep --color=auto'
alias fgrep='fgrep --color=auto'
alias egrep='egrep --color=auto'
alias rm='trash'
# alias rm='mv -f \!* ~/.deleted/'
# alias unrm='mv ~/.deleted/\!* .'
# export DYLD_FALLBACK_LIBRARY_PATH="/opt/local/lib/"

alias gs='git status'
alias gpa='git push origin master; git push heroku master'
alias gl="git log --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit"
alias glog='git log --pretty=format:"[%h] %ae, %ar: %s" --stat'

alias eb="vim ~/.bashrc"
alias sb="source ~/.bashrc"

#print my dirname whenever i cd somewhere
function cd () { 
  builtin cd "$@" && ls;
}

#better bash history navigator - up and down match to stuff that is the same behind the cursor
bind '"\e[A"':history-search-backward
bind '"\e[B"':history-search-forward

function beast () {
  git add .;
  git commit -m "$@";
  git pull;
};

function rage () {
  git add .;
  git commit -m "$@";
  git pull;
  git push production master; git push origin master;
};

function push () {
  git push production master; git push origin master;
};

# To encrypt a file:
# openssl des3 -salt -in file.log -out file.des3
function encrypt () {
  openssl des3 -salt -in $1 -out $2;
}
# >>> prompts for password
# To Decrypt: 
# openssl des3 -d -salt -in file.des3 -out file.txt -k mypassword
function decrypt () {
  openssl des3 -d -salt -in $1 -out $2 -k $3 
}
function gstats {
# awesome work from https://github.com/esc/git-stats
# including some modifications
  if [ -n "$(git symbolic-ref HEAD 2> /dev/null)" ]; then
    echo "Number of commits per author:"
    git --no-pager shortlog -sn --all
    AUTHORS=$( git shortlog -sn --all | cut -f2 | cut -f1 -d' ')
    LOGOPTS=""
    if [ "$1" == '-w' ]; then
      LOGOPTS="$LOGOPTS -w"
      shift
    fi
    if [ "$1" == '-M' ]; then
      LOGOPTS="$LOGOPTS -M"
      shift
    fi
    if [ "$1" == '-C' ]; then
      LOGOPTS="$LOGOPTS -C --find-copies-harder"
      shift
    fi
    for a in $AUTHORS
    do
      echo '-------------------'
      echo "Statistics for: $a"
      echo -n "Number of files changed: "
      git log $LOGOPTS --all --numstat --format="%n" --author=$a | cut -f3 | sort -iu | wc -l
      echo -n "Number of lines added: "
      git log $LOGOPTS --all --numstat --format="%n" --author=$a | cut -f1 | awk '{s+=$1} END {print s}'
      echo -n "Number of lines deleted: "
      git log $LOGOPTS --all --numstat --format="%n" --author=$a | cut -f2 | awk '{s+=$1} END {print s}'
      echo -n "Number of merges: "
      git log $LOGOPTS --all --merges --author=$a | grep -c '^commit'
    done
  else
    echo "you're currently not in a git repository"
  fi
}

function myip {
  res=$(curl -s checkip.dyndns.org | grep -Eo '[0-9\.]+')
  echo "$res"
}

# set fancy prompt
if [ -f "$HOME/.bash_ps" ]; then
    . "$HOME/.bash_ps"
fi

      dirlength() {
        echo -n ${PWD/#$HOME} | wc -c
      }
